## support

### commands

Кастомные команды для cypress тестов, созданные для удобства и декомпозиции кода

`cy.login` -> отправляет запрос на поиск пользователя по username и password (по дэфолту - тестовый пользователь) и возвращает тело ответа запроса.

`commands.ts` -> импорт и объединение всех новых команд в cypress

## components

Изолированные тесты на отдельные компоненты.

Также, как и для rtl тестов, для корректной отрисовки компонента в метод `cy.mount` необходимо передавать специальные обертки для `react-router`, `i18next`, `redux` и для правильного отображения стилей `ThemesProvider`

## e2e

Непосредственная работа с backend'ом и проход по всем необходимым местам прямо на отрисовавшемся в браузере проекте

### articles

Перед каждым тестом `beforeEach` с помощью кастомного метода `cy.login` происходит авторизация, потому что предусмотрено, что на страницу articles можно зайти только авторизованным пользователям

`article-details.cy.ts` -> Для тестов конкретной статьи также в `beforeEach` помимо `cy.login` происходит создание новой статьи `cy.createArticle`, а в `afterEach` удаление `cy.removeArticle`. Это нужно, чтобы не мутировать актуальные данные и не засорять базу данных.

### common

В этой дирректории находятся данные на общий функционал

`routing.cy.ts` -> тесты на переход по конкретным путям в приложении для авторизованных и неавторизованных пользователей

### profile

Чтобы протестировать стриницу профиля был создан отдельный тестовый объект пользователя.

После каждого теста `afterEach` данные этого пользователя сбрасываются до первоначального состояния `cy.resetProfile`

## fixtures

`pofile.json` -> моковые данные для теста карточки профиля в `../component/EditableProfileCard.cy.tsx`

## helpers

`selectByTestid.ts` -> helper функция для подставления в data-testid='${...}' нужное наименование
